<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INSPINIA | Dashboard v.2</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
    <body>
        <div id="wrapper">
            <div id="page-wrapper" class="gray-bg">
                <div class="wrapper wrapper-content">
                    <div class="row">
                        <div class="col-lg-3">
                            <div class="ibox pointer" onclick="searchPos('AAA1234')" >
                                <div class="ibox-title">
                                    <div class="ibox-tools">
                                        <span class="label label-success float-right">Frota A</span>
                                    </div>
                                    <h5 style="margin-left: 8px;">AAA-1234</h5>
                                </div>
                                <div class="ibox-content">
                                    <h1 class="no-margins">61747659</h1>
                                    <div class="stat-percent font-bold text-success">ON <i class="fa fa-power-off"></i></div>
                                    <small>Odometro</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="ibox pointer" onclick="searchPos('BBB1234')" >
                                <div class="ibox-title">
                                    <div class="ibox-tools">
                                        <span class="label label-success float-right">Frota A</span>
                                    </div>
                                    <h5 style="margin-left: 8px;">BBB-1234</h5>
                                </div>
                                <div class="ibox-content">
                                    <h1 class="no-margins">12548965</h1>
                                    <div class="stat-percent font-bold text-muted">OFF <i class="fa fa-power-off"></i></div>
                                    <small>Odometro</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="ibox pointer" onclick="searchPos('DDD1234')" >
                                <div class="ibox-title">
                                    <div class="ibox-tools">
                                        <span class="label label-warning float-right">Frota B</span>
                                    </div>
                                    <h5 style="margin-left: 8px;">DDD-1234</h5>
                                </div>
                                <div class="ibox-content">
                                    <h1 class="no-margins">985135</h1>
                                    <div class="stat-percent font-bold text-muted">OFF <i class="fa fa-power-off"></i></div>
                                    <small>Odometro</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="ibox pointer" onclick="searchPos('FFF1234')" >
                                <div class="ibox-title">
                                    <div class="ibox-tools">
                                        <span class="label label-info float-right">Frota C</span>
                                    </div>
                                    <h5 style="margin-left: 8px;">FFF-1234</h5>
                                </div>
                                <div class="ibox-content">
                                    <h1 class="no-margins">6189843</h1>
                                    <div class="stat-percent font-bold text-success">ON <i class="fa fa-power-off"></i></div>
                                    <small>Odometro</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Ultima Posição</h5>
                                </div>
                                <div class="ibox-content">
                                    <div class="row">
                                    <div class="col-lg-9">
                                        <div class="flot-chart" id="flot-chart">
                                        </div>
                                    </div>
                                    <div class="col-lg-3">
                                        <div id="listContainer">
                                            <ul class="stat-list">
                                                <li>
                                                    <h2 class="no-margins" id="deviceId"><i class="fa fa-mobile text-navy"></i></h2>
                                                    <small>ID Dispositivo</small>
                                                    <div class="progress progress-mini">
                                                        <div style="width: 100%;" class="progress-bar"></div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <h2 class="no-margins" id="mainBattery1"></h2>
                                                    <small>Bateria Principal</small>
                                                    <div class="stat-percent" id="mainBattery2"><i class="fa fa-bolt text-navy"></i></div>
                                                    <div class="progress progress-mini">
                                                        <div class="progress-bar" id="mainBattery3"></div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <h2 class="no-margins"  id="backupBattery1"></h2>
                                                    <small>Bateria Reserva</small>
                                                    <div class="stat-percent" id="backupBattery2">'+element.backupBattery+'% <i class="fa fa-bolt text-navy"></i></div>
                                                    <div class="progress progress-mini">
                                                        <div id="backupBattery3" class="progress-bar"></div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <h2 class="no-margins" id="lastPosDate"></h2>
                                                    <small>Data e Hora da Medição</small>
                                                    <div class="stat-percent"><i class="fa fa-clock-o text-navy"></i></div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-9">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Tabela de Eventos</h5>
                                    <div class="ibox-tools">
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-xs btn-white"><<</button>
                                            <button type="button" class="btn btn-xs btn-white active">1</button>
                                            <button type="button" class="btn btn-xs btn-white">2</button>
                                            <button type="button" class="btn btn-xs btn-white">3</button>
                                            <button type="button" class="btn btn-xs btn-white">4</button>
                                            <button type="button" class="btn btn-xs btn-white">>></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="ibox-content">
                                    <div class="table-responsive">
                                        <table class="table table-striped">
                                            <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Data </th>
                                                <th>Hora</th>
                                                <th>Placa </th>
                                                <th>Odometro </th>
                                                <th>Ignição </th>
                                                <th>Descrição </th>
                                            </tr>
                                            </thead>
                                            <tbody class="tableBody">
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>
                                        Estatíscas
                                    </h5>
                                </div>
                                <div class="ibox-content">
                                    <div class="row text-center">
                                        <div class="col-lg-12">
                                            <canvas id="doughnutChart2" style="margin: 18px auto 0px; display: block; width: 100%; height: 200px;"></canvas>
                                            <h5>Eventos</h5>
                                        </div>
                                    </div>
                                    <div class="m-t">
                                        <small>Um pequeno grafico com informações pertinentes resumidas para controle de frota.</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-3">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Horimetro</h5>
                                </div>
                                <div class="ibox-content">
                                    <ul class="list-group clear-list m-t">
                                        <li class="list-group-item fist-item pointer">
                                            <span class="label label-success">AAA-1234</span> 
                                            <span class="float-right">
                                                Total 085059
                                            </span>
                                        </li>
                                        <li class="list-group-item pointer">
                                            <span class="label label-success plateLabel">BBB-1234</span>
                                            <span class="float-right">
                                                Total 025019
                                            </span>
                                        </li>
                                        <li class="list-group-item active pointer">
                                            <span class="label label-warning plateLabel">DDD-1234</span>
                                            <span class="float-right">
                                                Total 008651
                                            </span>
                                        </li>
                                        <li class="list-group-item active pointer">
                                            <span class="label label-info plateLabel">FFF-1234</span>
                                            <span class="float-right">
                                                Total 045316
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-9">
                            <div class="ibox">
                                <div class="ibox-title" id="titleGraph">
                                    <h5>Detalhe Horimetro</h5>
                                    <div class="ibox-tools">
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-xs btn-white active" id="btnHours">Hora a Hora</button>
                                            <button type="button" class="btn btn-xs btn-white" id="btnDays">Diário</button>
                                            <button type="button" class="btn btn-xs btn-white" id="btnMonths">Mensal</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="ibox-content">  
                                    <div class="graph1" id="chartDiv">
                                        <canvas id="barChart"></canvas>
                                    </div>
                                    <div class="flot-chart graph2">
                                        <div class="flot-chart-content" id="flot-bar-chart">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <div class="float-right">
                        Mock-up by <strong>Matheus Oliveira</strong>.
                    </div>
                    <div>
                        Copyright<strong> Pogo Enterprise</strong>.
                    </div>
                </div>
            </div>
        </div>
        <!-- Mainly scripts -->
        <script src="js/jquery/jquery-3.1.1.min.js"></script>
        <script src="js/popper.min.js"></script>
        <script src="js/bootstrap/bootstrap.js"></script>
        <script src="js/plugins/metisMenu/metisMenu.js"></script>
        <script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
        <!-- Flot -->
        <script src="js/plugins/flot/jquery.flot.js"></script>
        <script src="js/plugins/flot/jquery.flot.tooltip.min.js"></script>
        <script src="js/plugins/flot/jquery.flot.spline.js"></script>
        <script src="js/plugins/flot/jquery.flot.resize.js"></script>
        <script src="js/plugins/flot/jquery.flot.pie.js"></script>
        <script src="js/plugins/flot/jquery.flot.symbol.js"></script>
        <script src="js/plugins/flot/jquery.flot.time.js"></script>
        <script src="http://www.benjaminbuffet.com/public/js/jquery.flot.orderBars.js"></script>
        <!-- Peity -->
        <script src="js/plugins/peity/jquery.peity.min.js"></script>
        <script src="js/demo/peity-demo.js"></script>
        <!-- Custom and plugin javascript -->
        <script src="js/inspinia.js"></script>
        <script src="js/plugins/pace/pace.min.js"></script>
        <!-- jQuery UI -->
        <script src="js/plugins/jquery-ui/jquery-ui.min.js"></script>
        <!-- Jvectormap -->
        <script src="js/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
        <script src="js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
        <!-- EasyPIE -->
        <script src="js/plugins/easypiechart/jquery.easypiechart.js"></script>
        <!-- ChartJS-->
        <script src="js/plugins/chartJs/Chart.min.js"></script>
        <!-- <script src="js/plugins//chartJs/angles.js"></script> -->
        <!-- Sparkline -->
        <script src="js/plugins/sparkline/jquery.sparkline.min.js"></script>
        <!-- Sparkline demo data  -->
        <script src="js/demo/sparkline-demo.js"></script>
        <!-- DEMO DATA -->
        <script>
            //JSON DATA
            //LAST POS
            var vehicleLastPos = {
                "success": true,
                "error": 0,
                "data": [
                    {
                        "vehicleId": 1,
                        "plate": "AAA1234",
                        "label": "Carro da Frota A",
                        "positionId": 16145844,
                        "date": "2018-01-05 14:25:27",
                        "systemDate": "2018-09-26 14:35:15",
                        "ignition": "OFF",
                        "speed": "0",
                        "output1": "OFF",
                        "output2": "OFF",
                        "latitude": "-22.846837",
                        "longitude": "-47.083258",
                        "address": "ALAMEDA PRAÇA CAPITAL - LOT. CENTER SANTA GENEBRA, CAMPINAS - SP, 13080-650",
                        "deviceId": 123456,
                        "mainBattery": "13.10",
                        "backupBattery": "90.25",
                        "driverId": "1F00CA1221AA31",
                        "vehicleType": 5,
                        "odometer": "61747659",
                        "horimeter": "085059",
                        "rpm": "1000",
                        "temp1": "30",
                        "temp2": "22",
                        "temp3": "14",
                        "direction": "000.00"
                    },
                    {
                        "vehicleId": 2,
                        "plate": "BBB1234",
                        "label": "Carro da Frota A",
                        "positionId": 16145844,
                        "date": "2018-09-26 11:19:27",
                        "systemDate": "2018-10-15 11:20:01",
                        "ignition": "OFF",
                        "speed": "0",
                        "output1": "OFF",
                        "output2": "OFF",
                        "latitude": "-22.806837",
                        "longitude": "-47.023258",
                        "address": "ALAMEDA PRAÇA CAPITAL - LOT. CENTER SANTA GENEBRA, CAMPINAS - SP, 13080-650",
                        "deviceId": 654321,
                        "mainBattery": "18.50",
                        "backupBattery": "40.10",
                        "driverId": "1F00CA1221AA31",
                        "vehicleType": 5,
                        "odometer": "12548965",
                        "horimeter": "025019",
                        "rpm": "1000",
                        "temp1": "30",
                        "temp2": "22",
                        "temp3": "14",
                        "direction": "000.00"
                    },
                    {
                        "vehicleId": 3,
                        "plate": "DDD1234",
                        "label": "Carro da Frota B",
                        "positionId": 16145843,
                        "date": "2018-09-29 08:30:27",
                        "systemDate": "2018-09-26 11:20:01",
                        "ignition": "OFF",
                        "speed": "0",
                        "output1": "OFF",
                        "output2": "OFF",
                        "latitude": "-22.546837",
                        "longitude": "-47.983258",
                        "address": "ALAMEDA PRAÇA CAPITAL - LOT. CENTER SANTA GENEBRA, CAMPINAS - SP, 13080-650",
                        "deviceId": 456789,
                        "mainBattery": "53.90",
                        "backupBattery": "100.00",
                        "driverId": "1F00CA1221AA31",
                        "vehicleType": 5,
                        "odometer": "985135",
                        "horimeter": "008651",
                        "rpm": "1000",
                        "temp1": "30",
                        "temp2": "22",
                        "temp3": "14",
                        "direction": "000.00"
                    },
                    {
                        "vehicleId": 4,
                        "plate": "FFF1234",
                        "label": "Carro da Frota C",
                        "positionId": 16145842,
                        "date": "2018-09-26 22:15:27",
                        "systemDate": "2018-09-26 11:20:01",
                        "ignition": "OFF",
                        "speed": "0",
                        "output1": "OFF",
                        "output2": "OFF",
                        "latitude": "-22.846237",
                        "longitude": "-47.089258",
                        "address": "ALAMEDA PRAÇA CAPITAL - LOT. CENTER SANTA GENEBRA, CAMPINAS - SP, 13080-650",
                        "deviceId": 987654,
                        "mainBattery": "00.00",
                        "backupBattery": "80.50",
                        "driverId": "1F00CA1221AA31",
                        "vehicleType": 5,
                        "odometer": "6189843",
                        "horimeter": "045316",
                        "rpm": "1000",
                        "temp1": "30",
                        "temp2": "22",
                        "temp3": "14",
                        "direction": "000.00"
                    }
                ]
            }
            //HIST POS
            var vehicleHistPos = {
                "success": true,
                "error": 0,
                "data": [
                    {
                        "plate": "ABC1234",
                        "deviceId": 1234,
                        "positionId": 1426,
                        "date": "2018-09-27 11:15:12",
                        "ignition": "OFF",
                        "odometer": "61783255",
                        "horimeter": "085120",
                        "address": "ALAMEDA PRAÇA CAPITAL - LOT. CENTER SANTA GENEBRA, CAMPINAS - SP, 13080-650",
                        "direction": "000.00",
                        "speed": "0",
                        "mainBattery": "13.10",
                        "latitude": "-22.847178",
                        "longitude": "-47.08351",
                        "driverName": "",
                        "driverId": "",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",
                        "rs232": ""
                    },
                    {
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "positionId": 1425,
                        "date": "2018-09-27 10:15:12",
                        "ignition": "OFF",
                        "odometer": "61783255",
                        "horimeter": "085120",
                        "address": "ALAMEDA PRAÇA CAPITAL - LOT. CENTER SANTA GENEBRA, CAMPINAS - SP, 13080-650",
                        "direction": "000.00",
                        "speed": "0",
                        "mainBattery": "13.13",
                        "latitude": "-22.147178",
                        "longitude": "-47.28351",
                        "driverName": "",
                        "driverId": "",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",
                        "rs232": ""
                    },
                    ,
                    {
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "positionId": 1424,
                        "date": "2018-09-27 10:15:12",
                        "ignition": "OFF",
                        "odometer": "61783255",
                        "horimeter": "085120",
                        "address": "ALAMEDA PRAÇA CAPITAL - LOT. CENTER SANTA GENEBRA, CAMPINAS - SP, 13080-650",
                        "direction": "000.00",
                        "speed": "0",
                        "mainBattery": "13.13",
                        "latitude": "-22.830178",
                        "longitude": "-47.08851",
                        "driverName": "",
                        "driverId": "",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",
                        "rs232": ""
                    },
                    {
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "positionId": 1423,
                        "date": "2018-09-27 10:15:12",
                        "ignition": "OFF",
                        "odometer": "61783255",
                        "horimeter": "085120",
                        "address": "ALAMEDA PRAÇA CAPITAL - LOT. CENTER SANTA GENEBRA, CAMPINAS - SP, 13080-650",
                        "direction": "000.00",
                        "speed": "0",
                        "mainBattery": "13.13",
                        "latitude": "-22.847123",
                        "longitude": "-47.08897",
                        "driverName": "",
                        "driverId": "",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",
                        "rs232": ""
                    }
                ]
            }
            //HIST EVENT
            var vehicleHistEvent = {
                "success": true,
                "error": 0,
                "data": [
                    {
                        "eventId": 1122, //1
                        "date": "2018-09-26 09:19:32", //2
                        "plate": "ABC1234", //3
                        "deviceId": 123456,
                        "latitude": "-22.846767",
                        "longitude": "-47.083274",
                        "speed": "0",
                        "mainBattery": "13.07",
                        "odometer": "61747659", //4
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",
                        "complement": "",
                        "eventRef": "ALT_1",
                        "description": "Ultrapassou Limite de Velocidade", //5
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "ON" //6
                    },
                    {
                        "eventId": 1121,
                        "date": "2018-09-26 08:59:58",
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "latitude": "-22.846767",
                        "longitude": "-47.083274",
                        "speed": "0",
                        "mainBattery": "12.32",
                        "odometer": "61731629",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",             
                        "complement": "",
                        "eventRef": "ALT_10",
                        "description": "Saiu de Sleep Mode",
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "OFF"
                    },
                    {
                        "eventId": 1120,
                        "date": "2018-09-25 20:00:58",
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "latitude": "-22.046767",
                        "longitude": "-47.983274",
                        "speed": "0",
                        "mainBattery": "12.32",
                        "odometer": "61731629",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",             
                        "complement": "",
                        "eventRef": "ALT_34",
                        "description": "Desligou Ignicao",
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "OFF"
                    },
                    {
                        "eventId": 1119,
                        "date": "2018-09-25 08:59:58",
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "latitude": "-22.846767",
                        "longitude": "-47.083274",
                        "speed": "0",
                        "mainBattery": "12.32",
                        "odometer": "61731629",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",             
                        "complement": "",
                        "eventRef": "ALT_33",
                        "description": "Ligou Ignicao",
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "ON"
                    },
                    {
                        "eventId": 1118,
                        "date": "2018-09-24 19:59:58",
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "latitude": "-22.846767",
                        "longitude": "-47.083274",
                        "speed": "0",
                        "mainBattery": "12.32",
                        "odometer": "61731629",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",             
                        "complement": "",
                        "eventRef": "ALT_34",
                        "description": "Desligou Ignicao",
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "OFF"
                    },
                    {
                        "eventId": 1117,
                        "date": "2018-09-24 09:05:00",
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "latitude": "-22.846767",
                        "longitude": "-47.083274",
                        "speed": "0",
                        "mainBattery": "12.32",
                        "odometer": "61731629",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",             
                        "complement": "",
                        "eventRef": "ALT_33",
                        "description": "Ligou Ignicao",
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "ON"
                    },
                    {
                        "eventId": 1116,
                        "date": "2018-09-23 16:30:58",
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "latitude": "-22.846767",
                        "longitude": "-47.083274",
                        "speed": "0",
                        "mainBattery": "12.32",
                        "odometer": "61731629",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",             
                        "complement": "",
                        "eventRef": "ALT_34",
                        "description": "Desligou Ignicao",
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "OFF"
                    },
                    {
                        "eventId": 1115,
                        "date": "2018-09-23 10:00:00",
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "latitude": "-22.846767",
                        "longitude": "-47.083274",
                        "speed": "0",
                        "mainBattery": "12.32",
                        "odometer": "61731629",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",             
                        "complement": "",
                        "eventRef": "ALT_1",
                        "description": "Ultrapassou Limite de Velocidade",
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "ON"
                    },{
                        "eventId": 1114,
                        "date": "2018-09-23 08:10:25",
                        "plate": "ABC1234",
                        "deviceId": 123456,
                        "latitude": "-22.846767",
                        "longitude": "-47.083274",
                        "speed": "0",
                        "mainBattery": "12.32",
                        "odometer": "61731629",
                        "input1": "0",
                        "input2": "0",
                        "output1": "0",
                        "output2": "0",             
                        "complement": "",
                        "eventRef": "ALT_33",
                        "description": "Ligou Ignicao",
                        "eventStatus": "A",
                        "address": "CONDOMÍNIO PRAÇA CAPITAL - R. ADELAIDE DANIEL DE ALMEIDA, 140 - CENTRO, CAMPINAS - SP",
                        "driverId": "",
                        "ignition": "ON"
                    }
                ]
            }
            vehicleHistEvent.data.forEach(element => {
                $(".tableBody").append('<tr><td>' + element.eventId + '</td><td>' + element.date.substr(0,10).split('-').reverse().join('/') + '</td><td>' + element.date.substr(10,6) + '</td><td>' + element.plate + '</td><td>'+ parseFloat(element.odometer) + ' Km </td><td>' + element.ignition + '</td><td>'+ element.description + '</td></tr>')
            });
        </script>
        <script>
            $(document).ready(function() {
                //DOUGHNUT CHARTS
                var doughnutData = {
                    labels: ["Ultrapassou o Limite de Velocidade","Fora da Rota","Aceleracao brusca","Freada brusca"],
                    datasets: [{
                        data: [5,2,0,7],
                        backgroundColor: ["#a3e1d4","#dedede","#9CC3DA"]
                    }]
                } ;
                var doughnutOptions = {
                    responsive: false,
                    legend: {
                        display: false
                    }
                };
                var ctx4 = document.getElementById("doughnutChart2").getContext("2d");
                new Chart(ctx4, {type: 'doughnut', data: doughnutData, options:doughnutOptions});
        
                //BAR CHART
                var barData;
                var barOptions = { responsive: true };

                function renderGraph(display){
                    if(display == 0){
                        $("#btnHours").addClass('active');
                        $("#btnDays").removeClass('active');
                        $("#btnMonths").removeClass('active');
                        barData = {
                            labels: ["10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00","17:00","18:00","19:00","20:00","21:00"],
                            datasets: [
                                {
                                    label: "DDD-1234",
                                    backgroundColor: 'rgba(248, 172, 89, 0.5)',
                                    pointBorderColor: "#F8AC59",
                                    data: [15, 60, 40, 21, 56, 55, 40, 60, 12 , 0 , 0 , 0]
                                },
                                {
                                    label: "FFF-1234",
                                    backgroundColor: 'rgba(35, 198, 200, 0.5)',
                                    borderColor: "rgba(26,179,148,0.7)",
                                    pointBackgroundColor: "rgba(26,179,148,1)",
                                    pointBorderColor: "#23C6C8",
                                    data: [25, 0, 0, 0, 60, 60, 60, 60, 30 , 0 , 0 , 0]
                                }   
                            ]
                        };
                    } else if(display == 1){
                        $("#btnHours").removeClass('active');
                        $("#btnDays").addClass('active');
                        $("#btnMonths").removeClass('active');
                        barData = {
                            labels: ["01", "02", "03", "04", "05", "06", "07"],
                            datasets: [
                                {
                                    label: "DDD-1234",
                                    backgroundColor: 'rgba(248, 172, 89, 0.5)',
                                    pointBorderColor: "#F8AC59",
                                    data: [150, 600, 400, 210, 560, 550, 400]
                                },
                                {
                                    label: "FFF-1234",
                                    backgroundColor: 'rgba(35, 198, 200, 0.5)',
                                    borderColor: "rgba(26,179,148,0.7)",
                                    pointBackgroundColor: "rgba(26,179,148,1)",
                                    pointBorderColor: "#23C6C8",
                                    data: [250, 90, 150, 420, 600, 275, 337]
                                }
                            ]
                        };
                    } else {
                        $("#btnHours").removeClass('active');
                        $("#btnDays").removeClass('active');
                        $("#btnMonths").addClass('active');
                        barData = {
                            labels: ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho"],
                            datasets: [
                                {
                                    label: "DDD-1234",
                                    backgroundColor: 'rgba(248, 172, 89, 0.5)',
                                    pointBorderColor: "#F8AC59",
                                    data: [65000, 590000, 800000, 810000, 560000, 550000, 400000]
                                },
                                {
                                    label: "FFF-1234",
                                    backgroundColor: 'rgba(35, 198, 200, 0.5)',
                                    borderColor: "rgba(26,179,148,0.7)",
                                    pointBackgroundColor: "rgba(26,179,148,1)",
                                    pointBorderColor: "#23C6C8",
                                    data: [280000, 480000, 400000, 190000, 860000, 270000, 900000]
                                }
                            ]
                        };
                    }

                    $("#barChart").remove();
                    $("#chartDiv").append('<canvas id="barChart" height="75"></canvas>');
                    var ctx2 = document.getElementById("barChart").getContext("2d");
                    new Chart(ctx2, {type: 'bar', data: barData, options:barOptions});
                }
                renderGraph(0);
                $("#btnHours").click(function(){renderGraph(0)});
                $("#btnDays").click(function(){renderGraph(1)});
                $("#btnMonths").click(function(){renderGraph(2)});
                //END OF CHARTS

                //TESTE FLOT CHART RESPONSIVE
                var barOptions = {
                    series: {
                        bars: {
                            show: true,
                            barWidth: 0.3,
                            fill: true,
                            order: 1,
                            fillColor: {
                                colors: [{
                                    opacity: 0.4
                                }, {
                                    opacity: 0.4
                                }]
                            }
                        }
                    },
                    xaxis: {
                        tickDecimals: 0
                    },
                    colors: ["#1ab394"],
                    grid: {
                        color: "#999999",
                        hoverable: true,
                        clickable: true,
                        tickColor: "#D4D4D4",
                        borderWidth:0
                    },
                    legend: {
                        noColumns: 2,
                        show: false
                    },
                    tooltip: true,
                    tooltipOpts: {
                        content: "%s: %x:00 - %ym"
                    }
                };
                var barData = [
                    {
                        label: "DDD-1234",
                        data: [
                            [10, 10],
                            [11, 10],
                            [12, 10],
                            [13, 10],
                            [14, 10],
                            [15, 10],
                            [16, 10],
                            [17, 10],
                            [18, 10],
                            [19, 10],
                            [20, 10],
                            [21, 10]
                        ],
                        color: "#F8AC59"
                    },
                    {
                        label: "FFF-1234",
                        data: [
                            [10, 5],
                            [11, 5],
                            [12, 5],
                            [13, 5],
                            [14, 5],
                            [15, 5],
                            [16, 5],
                            [17, 5],
                            [18, 5],
                            [19, 5],
                            [20, 5],
                            [21, 5]
                        ],
                        color: "#23C6C8"
                    }
                ];
                $.plot($("#flot-bar-chart"), barData, barOptions);
            });

            //GoogleMaps Search position
            function searchPos(plate){
                vehicleLastPos.data.forEach(element => {
                    if(element.plate == plate){
                        $('#deviceId').html(element.plate +' | '+element.deviceId+' <i class="fa fa-mobile text-navy"></i>')
                        $('#mainBattery1').html(element.mainBattery)
                        $('#mainBattery2').html(element.mainBattery+'%<i class="fa fa-bolt text-navy"></i>')
                        $("#mainBattery3").css('width',element.mainBattery + '%');
                        $('#backupBattery1').html(element.backupBattery);
                        $('#backupBattery2').html(element.backupBattery+'%<i class="fa fa-bolt text-navy"></i>')
                        $("#backupBattery3").css('width',element.backupBattery + '%');
                        $("#lastPosDate").html(element.date.substr(0,10).split('-').reverse().join('/') + ' ' + element.date.substr(10,6));
                        $("#googleMap").remove();
                        $("#flot-chart").append(
                            '<iframe '+
                            '    id="googleMap"'+
                            '    width="100%" '+
                            '    height="250" '+
                            '    frameborder="0" '+
                            '    scrolling="no" '+
                            '    marginheight="0" '+
                            '    marginwidth="0" '+
                            '    src="https://maps.google.com/maps?q='+element.latitude+','+element.longitude+'&hl=pt-br&z=14&amp;output=embed"'+
                            '>'+
                            '</iframe>'
                        );
                    }
                });
            }
            searchPos('AAA1234');

        </script>
    </body>
</html>