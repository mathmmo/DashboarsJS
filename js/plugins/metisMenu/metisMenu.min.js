/*
 * metismenu - v2.0.2
 * A jQuery menu plugin
 * https://github.com/onokumus/metisMenu
 *
 * Made by Osman Nuri Okumus
 * Under MIT License
 */

!function(n){"use strict";n.fn.emulateTransitionEnd=function(t){var e=!1,s=this;n(this).one("mmTransitionEnd",function(){e=!0});return setTimeout(function(){e||n(s).trigger(i.end)},t),this};var i=function(){var n=document.createElement("mm"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in i)if(void 0!==n.style[t])return{end:i[t]};return!1}();i&&(n.event.special.mmTransitionEnd={bindType:i.end,delegateType:i.end,handle:function(i){if(n(i.target).is(this))return i.handleObj.handler.apply(this,arguments)}});var t=function(i,e){this.$element=n(i),this.options=n.extend({},t.DEFAULTS,e),this.transitioning=null,this.init()};t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},t.prototype.init=function(){var i=this,t=this.options.activeClass;this.$element.find("li."+t).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+t).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+t).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").children("a").on("click.metisMenu",function(e){i.clicked=!0;var s=n(this);s.parent().find("ul").length>0||i.$element.find("li").each(function(e,o){var a=n(o),l=a.children("ul");a.hasClass(t)&&0==a.find(s).length&&i.hide(l)})}),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(e){var s=n(this),o=s.parent("li"),a=o.children("ul");if(e.preventDefault(),o.hasClass(t)?i.hide(a):i.show(a),i.options.doubleTapToGo&&i.doubleTapToGo(s)&&"#"!==s.attr("href")&&""!==s.attr("href"))return e.stopPropagation(),void(document.location=s.attr("href"))}),n(window).on("hashchange",function(){var t=window.location.hash.split("/");t=t.length>0?t[0]+"/"+t[1]:t[0],i.clicked?i.clicked=!1:i.$element.find("li").each(function(e,s){var o=n(s);if(o.find('a[href^="'+t+'"]').length>0)(a=o.children("ul")).length>0&&i.show(a);else{var a=o.children("ul");a.length>0&&i.hide(a)}})})},t.prototype.doubleTapToGo=function(n){var i=this.$element;return n.hasClass("doubleTapToGo")?(n.removeClass("doubleTapToGo"),!0):n.parent().children("ul").length?(i.find(".doubleTapToGo").removeClass("doubleTapToGo"),n.addClass("doubleTapToGo"),!1):void 0},t.prototype.show=function(e){var s=this.options.activeClass,o=n(e),a=o.parent("li");if(!this.transitioning&&!o.hasClass("in")){a.addClass(s),this.options.toggle&&this.hide(a.siblings().children("ul.in")),o.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var l=function(){o.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};if(!i)return l.call(this);o.one("mmTransitionEnd",n.proxy(l,this)).emulateTransitionEnd(t.TRANSITION_DURATION).height(o[0].scrollHeight)}},t.prototype.hide=function(e){var s=this.options.activeClass,o=n(e);if(!this.transitioning&&o.hasClass("in")){o.parent("li").removeClass(s),o.height(o.height())[0].offsetHeight,o.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,o.removeClass("collapsing").addClass("collapse")};if(!i)return a.call(this);o.height(0).one("mmTransitionEnd",n.proxy(a,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}};var e=n.fn.metisMenu;n.fn.metisMenu=function(i){return this.each(function(){var e=n(this),s=e.data("mm"),o=n.extend({},t.DEFAULTS,e.data(),"object"==typeof i&&i);s||e.data("mm",s=new t(this,o)),"string"==typeof i&&s[i]()})},n.fn.metisMenu.Constructor=t,n.fn.metisMenu.noConflict=function(){return n.fn.metisMenu=e,this}}(jQuery);